<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Station Data</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #333;
        }
        .data-container {
            margin-top: 20px;
        }
        .data-container div {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Weather Station Data</h1>
    <div class="data-container">
        <div id="stationID">Station ID: Loading...</div>
        <div id="winddir">Wind Direction: Loading...</div>
        <div id="windSpeed">Wind Speed: Loading...</div>
        <div id="windGust">Wind Gust: Loading...</div>
    </div>

    <script>
        // Function to fetch the data from the API
        function fetchWeatherData() {
            const apiUrl = "https://api.weather.com/v2/pws/observations/current?apiKey=e1f10a1e78da46f5b10a1e78da96f525&stationId=IBOLVA20&format=json&units=m";
            
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Extract the relevant data
                    const stationID = data.observations[0].stationID;
                    const winddir = data.observations[0].winddir;
                    const windSpeed = data.observations[0].metric.windSpeed;
                    const windGust = data.observations[0].metric.windGust;
                    
                    // Update the HTML with the data
                    document.getElementById('stationID').innerText = `Station ID: ${stationID}`;
                    document.getElementById('winddir').innerText = `Wind Direction: ${winddir}Â°`;
                    document.getElementById('windSpeed').innerText = `Wind Speed: ${windSpeed}`;
                    document.getElementById('windGust').innerText = `Wind Gust: ${windGust} m/s`;
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    alert('Failed to fetch weather data.');
                });
        }

        // Fetch data immediately when the page loads
        fetchWeatherData();
        
        // Refresh the data every 60 seconds (60000 milliseconds)
        setInterval(fetchWeatherData, 60000);
    </script>
</body>
</html>
